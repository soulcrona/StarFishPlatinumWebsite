@model StarFishWebsite.Models.AllTables

@{
    ViewBag.Title = "Fish";
}

<h2>Fish</h2>


@using (Html.BeginForm("EditFish", "Edit", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="form-group">
        @Html.LabelFor(u => u.fish.Name)
        @Html.TextBoxFor(u => u.fish.Name, new { @class = "form-control", @value = Model.fish.Name})
    </div>
    @Html.HiddenFor(u => u.fish.ID, new { @value = Model.fish.ID })
    <div>
        <label>Affiliate:</label>
        <div>
            @Html.DropDownList("selectedaffiliate", (SelectList)ViewBag.Affiliates)
        </div>
    </div>
    <label>Fish Type:</label>
    <div>
        @Html.DropDownList("selectedfishtype", (SelectList)ViewBag.FishTypes)
    </div>

    <div class="form-group">
        @Html.LabelFor(u => u.fish.Description)
        @Html.TextBoxFor(u => u.fish.Description, new { @class = "form-control", @value = Model.fish.Description})
    </div>
    <div class="form-group">
        @Html.LabelFor(u => u.fish.SubDescriptions)
        @Html.TextBoxFor(u => u.fish.SubDescriptions, new { @class = "form-control", @value = Model.fish.SubDescriptions})
    </div>
    <div class="form-group">
        @Html.LabelFor(u => u.fish.MoreDescriptions)
        @Html.TextBoxFor(u => u.fish.MoreDescriptions, new { @class = "form-control", @value = Model.fish.MoreDescriptions})
    </div>
    <div class="form-group">
        @Html.LabelFor(u => u.fish.PrivateNotes)
        @Html.TextBoxFor(u => u.fish.PrivateNotes, new { @class = "form-control", @value = Model.fish.PrivateNotes})
    </div>
    <div class="form-group">
        @Html.LabelFor(u => u.fish.InGame)
        @Html.CheckBoxFor(u => u.fish.InGame, new { @checked = Model.fish.InGame })
    </div>
    //}
    <div>
        @Html.LabelFor(u => u.fish.PreferredFood)
        @{
            int i = 0;
            foreach (var item in ViewBag.Context.foods)
            {
        <div class="form-group">
            <label>@item.Name</label>
            @if (Model.fish.PreferredFood.Where(x => x.ID == item.ID).Count() > 0)
            {
                @Html.CheckBoxFor(u => u.fpyn[i], new { @checked = true })
            }
            else
            {
                @Html.CheckBoxFor(u => u.fpyn[i])
            }
            @Html.HiddenFor(u => u.fpid[i], new { Value = item.ID })
        </div>

                    i = i + 1;
            }
        }
    </div>
    <div>
        <input type="file" name="filetobeuploaded" />
    </div>
    <br />
    <button type="submit" class="btn btn-primary">Edit</button>
}